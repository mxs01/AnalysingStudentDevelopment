%%%%%%%% ICML 2023 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs} % for professional tables

\usepackage{tikz}
\usepackage{enumitem}
% Corporate Design of the University of Tübingen
% Primary Colors
\definecolor{TUred}{RGB}{165,30,55}
\definecolor{TUgold}{RGB}{180,160,105}
\definecolor{TUdark}{RGB}{50,65,75}
\definecolor{TUgray}{RGB}{175,179,183}

% Secondary Colors
\definecolor{TUdarkblue}{RGB}{65,90,140}
\definecolor{TUblue}{RGB}{0,105,170}
\definecolor{TUlightblue}{RGB}{80,170,200}
\definecolor{TUlightgreen}{RGB}{130,185,160}
\definecolor{TUgreen}{RGB}{125,165,75}
\definecolor{TUdarkgreen}{RGB}{50,110,30}
\definecolor{TUocre}{RGB}{200,80,60}
\definecolor{TUviolet}{RGB}{175,110,150}
\definecolor{TUmauve}{RGB}{180,160,150}
\definecolor{TUbeige}{RGB}{215,180,105}
\definecolor{TUorange}{RGB}{210,150,0}
\definecolor{TUbrown}{RGB}{145,105,70}

% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
% \usepackage{icml2023} with \usepackage[nohyperref]{icml2023} above.
\usepackage{hyperref}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}

\usepackage[accepted]{icml2023}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}

% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}
\usepackage[textsize=tiny]{todonotes}


% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:
\icmltitlerunning{Project Report Template for Data Literacy 2023/24}

\begin{document}

\twocolumn[
\icmltitle{My Data Literacy Project\\ (Replace this with your Project Title)}

% It is OKAY to include author information, even for blind
% submissions: the style file will automatically remove it for you
% unless you've provided the [accepted] option to the icml2023
% package.

% List of affiliations: The first argument should be a (short)
% identifier you will use later to specify author affiliations
% Academic affiliations should list Department, University, City, Region, Country
% Industry affiliations should list Company, City, Region, Country

% You can specify symbols, otherwise they are numbered in order.
% Ideally, you should not use this facility. Affiliations will be numbered
% in order of appearance and this is the preferred way.
\icmlsetsymbol{equal}{*}

\begin{icmlauthorlist}
\icmlauthor{Abdallah Abdul-Latif}{equal,first}
\icmlauthor{Lisa-Maria Fritsch}{equal,second}
\icmlauthor{Paul Kaifler}{equal,third}
\icmlauthor{Maximilian Schnitt}{equal,fourth}
\end{icmlauthorlist}

% fill in your matrikelnummer, email address, degree, for each group member
\icmlaffiliation{first}{Matrikelnummer 5977981, abdallah.abdul-latif@student.uni-tuebingen.de, MSc Computer Science}
\icmlaffiliation{second}{Matrikelnummer 12345678, first.last@student.uni-tuebingen.de, MSc Computer Science}
\icmlaffiliation{third}{Matrikelnummer 12345678, first.last@student.uni-tuebingen.de, MSc Media Informatics}
\icmlaffiliation{fourth}{Matrikelnummer 6040570, maximilian.schnitt@student.uni-tuebingen.de, BSc Computer Science}

% You may provide any keywords that you
% find helpful for describing your paper; these are used to populate
% the "keywords" metadata in the PDF but will not be shown in the document
\icmlkeywords{Machine Learning, ICML}

\vskip 0.3in
]

% this must go after the closing bracket ] following \twocolumn[ ...

% This command actually creates the footnote in the first column
% listing the affiliations and the copyright notice.
% The command takes one argument, which is text to display at the start of the footnote.
% The \icmlEqualContribution command is standard text for equal contribution.
% Remove it (just {}) if you do not need this facility.

%\printAffiliationsAndNotice{}  % leave blank if no need to mention equal contribution
\printAffiliationsAndNotice{\icmlEqualContribution} % otherwise use the standard text.

%Put your abstract here. Abstracts typically start with a sentence motivating why the subject is interesting. Then mention the data, methodology or methods you are working with, and describe results. 
\begin{abstract}
As often mentioned in the news and in the daily life, people suggest that a higher expected salary is a strong pull factor for students 
choosing their subject. We were curious if this is particullarily true for the scientific based subjects, because a majority of them have a 
pretty high expected salary. We used the students data from the \href{https://uni-tuebingen.de/einrichtungen/verwaltung/iv-studierende/studierendenabteilung/statistiken/}{Statistics University of Tübingen}, 
the high-school graduates data from the \href{https://www.statistik-bw.de/BildungKultur/SchulenAllgem/LRt0302.jsp}{Statistisches Landesamt Baden-Württemberg}
and also the salary data from 2005 to 2023 from the \href{https://www-genesis.destatis.de/genesis//online?operation=table&code=62321-0001&bypass=true&levelindex=0&levelid=1702307320529#abreadcrumb}{Deutsches Statistisches Bundesamt}.
We used a vector autoregressive model, to build a time series forecast and analysed the outcomes to find an optimal configuration for this type of model in our context.
\textcolor{red}{result.}
%Motivate the problem, situation or topic you decided to work on. 
% Describe why it matters (is it of societal, economic, scientific value?). 
% Outline the rest of the paper (use references, e.g.~to \Cref{sec:methods}: 
% What kind of data you are working with, how you analyse it, and what kind of conclusion you reached. 
% The point of the introduction is to make the reader want to read the rest of the paper.
\end{abstract}

\section{Introduction}\label{sec:intro}
In the public eye, there is a strong correlation between the expected salary and the subject enrollment of students. We are curious if this statement is true or just a biased
perception of the society. Our main focus is on the University of Tübingen and mainly on the STEM (scientific engineering technical and mathematical) subjects, because those degrees 
are likely to have a pretty high expected salary after graduating. Furthermore we needed data of high-school graduates in Baden-Würrtemberg, to find a possible corellation between
the amount of graduates and the new enrollments in the stem subjects. We just focused on Baden-Württemberg, this introduces a bias to our prediction, but we assumed that the 
majority of students which are going to study in Tübingen come from Baden-Württemberg. The third datatset we used is about the salaries from 2005 to 2023 in the main 
industrial sectors in Germany. The main focus of this paper is on a analysis of a vetor autoregressive model, to predict the upcoming numbers of students in the next semesters. We
used various techniques to clean our data like removing the inflation or making our time series stationary to ensure that the predictions don't detect patterns which are inferred by 
some noise in the data. Nevertheless we also used basic data science techniques to get a better understanding of the dirstributions and trends over the past years.

% In this section, describe \emph{what you did}. Roughly speaking, 
% explain what data you worked with, how or from where it was collected, it's structure and size.
%  Explain your analysis, and any specific choices you made in it. Depending on the nature of your project,
% you may focus more or less on certain aspects. If you collected data yourself, explain the collection process in detail.
% If you downloaded data from the net, show an exploratory analysis that builds
% intuition for the data, and shows that you know the data well. 
% If you are doing a custom analysis, explain how it works and why it is the right choice.
% If you are using a standard tool, it may still help to briefly outline it. Cite relevant works. 
% You can use the \verb|\citep| and \verb|\citet| commands for this purpose \citep{mackay2003information}.
\section{Data and Methods}\label{sec:methods}
In our research we used three datasets, which are divided as follows: The first dataset is from the \href{https://uni-tuebingen.de/einrichtungen/verwaltung/iv-studierende/studierendenabteilung/statistiken/}{Statistics Bureau of theUniversity of Tübingen}., which contains the
total amount of students from the winter semester 2005/2006 to the winter semester 2023/2024. The data was collected from the enrollments of students, which registered 
for a study in Tübingen.
The second dataset is from the \href{https://www.statistik-bw.de/BildungKultur/SchulenAllgem/LRt0302.jsp}{Statistisches Landesamt Baden-Württemberg} which contains data about the high-school graduates from 1970 to 2023.
Our third and last dataset is from the \href{https://www-genesis.destatis.de/genesis//online?operation=table&code=62321-0001&bypass=true&levelindex=0&levelid=1702307320529#abreadcrumb}{Deutsches Statistisches Bundesamt} and contains the salaries of the large industrial sectors in Germany from 2005 to 2021. 
One main problem with the mapping between university subjects and actual jobs is that there exists no perfect one-to-one mapping. 
We also removed the inflation from the salaries to get the real wage, because the inflation could 
cause a false pattern detection in our autoregressive model. 
To reduce the amount of bias introduced in this step, we also used the Inflation data from the Deutsches Statistisches Bundesamt over the years.\\

\textcolor{red}{To get the most of this model, we wrote a parser, which parses text data generated from a PDF. This parser basically uses regular expressions to extract the amount of students
per years divided into the semesters and created a new dataset with the usage of pandas.\\}

Our first steps involved some feauture engineering on the three different datasets to get a better understanding of the data and also detect patterns in the data like trends and distributions over time.
After we finished the basic feauture engineering step we started the main analysis of the Vector Autoregressive Model (VAR). 
We've chosen the vector autoregressive model, because we have multivariate data and we assumes that there is a correlation between the given time series.
A VAR model don't predict a single time series but one for each input series. Those modles have one hyperparameter \textcolor{red}{p} which define the amount 
of previous data points which should be represented in the output series. Each prediction is a linear combination with the form  $S_n = C_{1} \cdot S_{n-1}+ C_{2} \dots+ C_i \cdot  S_{n-i} + \epsilon$ for
$i \in \{1,...,|lags|\}$. In our case we have three incoming time series which also leads to three outgoing time series. Our outgoing prediction for the data point n based on lags 
is represented as
\begin{equation*}
    \resizebox{\linewidth}{!}{%
        $\begin{bmatrix}
            S_{1,n}\\
            S_{2,n}\\
            S_{3,n}
        \end{bmatrix} = 
        \begin{bmatrix}
            C_{1,1} & C_{1,2} & \dots &C_{1,n-1}\\
            C_{2,1} & C_{2,2} &\dots & C_{2,n-1}\\
            C_{3,1} & C_{3,2} &\dots &C_{3,n-1}\\
        \end{bmatrix} + 
        \begin{bmatrix}
            S_{1,1} & S_{1,2} & \dots & S_{1,n-1}\\
            S_{2,1} & S_{2,2} & \dots & S_{2,n-1}\\
            S_{3,1} & S_{3,2} & \dots & S_{3,n-1}\\
        \end{bmatrix}+
        \begin{bmatrix}
            \epsilon_{1}\\
            \epsilon_{2}\\
            \epsilon_{3}
        \end{bmatrix}$%
    }
    \end{equation*}
Each time series $S_n$ $\forall i \in \{1,2,3\}$ describes the n-th data point for the input time series i. The term $\epsilon$ is added to approximate an error, which is 
induced by the model.\\
We need to assure that our model is stationary, which means that the the stochastic process doesn't change over time. \textcolor{red}{WHY?}.
Our data is stationary if we are able to assure this for all our time series data inputs:
\begin{enumerate}[label=\Roman*]
    \item The mean $\mu$ is constant
    \item The standard deviation is constant
    \item There is no seasonality in the data
\end{enumerate}

After we ensured, that our data is stationary, we used a PACF plot to find lags which could be statistically significant. 
The main reason why we choose PACF in contrast to ACF is that we only want to look at direct influences from $S_{n-1}$ to $S_{n}$ and not from $S_{n-3}$ to $S_n$.
\begin{figure}[H]
    \centering
    \includegraphics[width=\linewidth,height=\textheight, keepaspectratio]{fig/pacf_plot.pdf}
    \caption{PACF Plot for our VAR Model}
    \label{fig:enter-label}
\end{figure}
\textcolor{red}{// CONCLUSION FOR PACF // }\\

After we found the optimal lag configuration of our model, we used a Granger Causality Test, to statistically prove that the salary time series really influences the student decision.
The main idea of Granger Causality is that we are able to predict the data point $S_{i,n}$ directly with one or multiple other time serieses. The Granger Causality Test uses exactly this
idea, by inserting data points $S*:=S_{j,m}$ for $j\in i:j\neq i$  and $m<n$. After we inserted a couple of terms we do a t-Test and an F-Test on this new $S*$ and as soon as both tests
return statistical significance for the same S* we can assure that the three time series are Granger Causal.






% This is the template for a figure from the original ICML submission pack. In lecture 10 we will discuss plotting in detail.
% Refer to this lecture on how to include figures in this text.
% 
% \begin{figure}[ht]
% \vskip 0.2in
% \begin{center}
% \centerline{\includegraphics[width=\columnwidth]{icml_numpapers}}
% \caption{Historical locations and number of accepted papers for International
% Machine Learning Conferences (ICML 1993 -- ICML 2008) and International
% Workshops on Machine Learning (ML 1988 -- ML 1992). At the time this figure was
% produced, the number of accepted papers for ICML 2008 was unknown and instead
% estimated.}
% \label{icml-historical}
% \end{center}
% \vskip -0.2in
% \end{figure}

\section{Results}\label{sec:results}

In this section outline your results. At this point, you are just stating the outcome of your analysis. 
You can highlight important aspects (``we observe a significantly higher value of $x$ over $y$''), but leave interpretation and opinion to the next section. This section absoultely \emph{has} to include at least two figures.

\section{Discussion \& Conclusion}\label{sec:conclusion}

Use this section to briefly summarize the entire text. Highlight limitations and problems, but also make clear statements where they are possible and supported by the analysis. 

\section*{Contribution Statement}

Explain here, in one sentence per person, what each group member contributed. For example, you could write: Max Mustermann collected and prepared data. Gabi Musterfrau and John Doe performed the data analysis. Jane Doe produced visualizations. All authors will jointly wrote the text of the report. Note that you, as a group, a collectively responsible for the report. Your contributions should be roughly equal in amount and difficulty.

\section*{Notes} 

Your entire report has a \textbf{hard page limit of 4 pages} excluding references. (I.e. any pages beyond page 4 must only contain references). Appendices are \emph{not} possible. But you can put additional material, like interactive visualizations or videos, on a githunb repo (use \href{https://github.com/pnkraemer/tueplots}{links} in your pdf to refer to them). Each report has to contain \textbf{at least three plots or visualizations}, and \textbf{cite at least two references}. More details about how to prepare the report, inclucing how to produce plots, cite correctly, and how to ideally structure your github repo, will be discussed in the lecture, where a rubric for the evaluation will also be provided.


\bibliography{bibliography}
\bibliographystyle{icml2023}

\end{document}


% This document was modified from the file originally made available by
% Pat Langley and Andrea Danyluk for ICML-2K. This version was created
% by Iain Murray in 2018, and modified by Alexandre Bouchard in
% 2019 and 2021 and by Csaba Szepesvari, Gang Niu and Sivan Sabato in 2022.
% Modified again in 2023 by Sivan Sabato and Jonathan Scarlett.
% Previous contributors include Dan Roy, Lise Getoor and Tobias
% Scheffer, which was slightly modified from the 2010 version by
% Thorsten Joachims & Johannes Fuernkranz, slightly modified from the
% 2009 version by Kiri Wagstaff and Sam Roweis's 2008 version, which is
% slightly modified from Prasad Tadepalli's 2007 version which is a
% lightly changed version of the previous year's version by Andrew
% Moore, which was in turn edited from those of Kristian Kersting and
% Codrina Lauth. Alex Smola contributed to the algorithmic style files.
